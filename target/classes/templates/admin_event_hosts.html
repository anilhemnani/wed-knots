<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Event Hosts</title>
  <meta charset="UTF-8">
  <th:block th:replace="~{_bootstrap_head :: head}"></th:block>
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Moments Manager</a>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/admin/dashboard">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>
<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="mb-1">Hosts for <span th:text="${event != null} ? ${event.name} : 'Event'">Event</span></h2>
      <p class="text-muted mb-0">Manage hosts attached to this event</p>
    </div>
    <a th:href="@{/admin/events/{id}/hosts/new(id=${event.id})}" class="btn btn-success">
      <i class="bi bi-plus-circle"></i> Add Host
    </a>
  </div>

  <div th:if="${hosts == null or hosts.isEmpty()}" class="alert alert-info">
    <i class="bi bi-info-circle"></i> No hosts found for this event. Click "Add Host" to create one.
  </div>

  <div th:if="${hosts != null and !hosts.isEmpty()}" class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th class="text-end">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="host : ${hosts}">
          <td th:text="${host.username}">Name</td>
          <td th:text="${host.email}">Email</td>
          <td th:text="${host.phone}">Phone</td>
          <td class="text-end">
            <div class="btn-group" role="group">
              <a th:href="@{/admin/events/{eventId}/hosts/{hostId}(eventId=${event.id},hostId=${host.id})}" class="btn btn-sm btn-outline-primary" title="View Host">
                <i class="bi bi-eye"></i>
              </a>
              <a th:href="@{/admin/events/{eventId}/hosts/{hostId}/edit(eventId=${event.id},hostId=${host.id})}" class="btn btn-sm btn-outline-warning" title="Edit Host">
                <i class="bi bi-pencil"></i>
              </a>
              <form th:action="@{/admin/events/{eventId}/hosts/{hostId}/delete(eventId=${event.id},hostId=${host.id})}" method="post" class="d-inline">
                <button type="submit" class="btn btn-sm btn-outline-danger" title="Delete Host" onclick="return confirm('Delete host?');">
                  <i class="bi bi-trash"></i>
                </button>
              </form>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>

